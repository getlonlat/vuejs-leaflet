(function(t){function s(s){for(var a,i,o=s[0],l=s[1],c=s[2],u=0,p=[];u<o.length;u++)i=o[u],n[i]&&p.push(n[i][0]),n[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(s);while(p.length)p.shift()();return r.push.apply(r,c||[]),e()}function e(){for(var t,s=0;s<r.length;s++){for(var e=r[s],a=!0,o=1;o<e.length;o++){var l=e[o];0!==n[l]&&(a=!1)}a&&(r.splice(s--,1),t=i(i.s=e[0]))}return t}var a={},n={app:0},r=[];function i(s){if(a[s])return a[s].exports;var e=a[s]={i:s,l:!1,exports:{}};return t[s].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=a,i.d=function(t,s,e){i.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,s){if(1&s&&(t=i(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var a in t)i.d(e,a,function(s){return t[s]}.bind(null,a));return e},i.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(s,"a",s),s},i.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},i.p="/vuejs-leaflet/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=s,o=o.slice();for(var c=0;c<o.length;c++)s(o[c]);var d=l;r.push([0,"chunk-vendors"]),e()})({0:function(t,s,e){t.exports=e("56d7")},"1a6e":function(t,s,e){t.exports=e.p+"img/target.f19372b2.png"},"56d7":function(t,s,e){"use strict";e.r(s);e("cadf"),e("551c"),e("f751"),e("097d");var a=e("2b0e"),n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container"},[e("app-header"),e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("app-map"),e("div",{class:{"is-hidden":!t.showSearchAddress}},[e("app-search-address")],1)],1),e("div",{staticClass:"column is-one-third",class:{"is-hidden":0===t.addressHistory.length}},[e("app-history")],1)])],1)},r=[],i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("nav",{staticClass:"navbar is-fixed-top",attrs:{role:"navigation","aria-label":"main navigation"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"navbar-brand"},[t._m(0),e("a",{staticClass:"navbar-burger burger",class:{"is-active":t.toggleMenu},attrs:{role:"button","aria-label":"menu","aria-expanded":"false","data-target":"navbarMenu"},on:{click:function(s){t.toggleMenu=!t.toggleMenu}}},[e("span",{attrs:{"aria-hidden":"true"}}),e("span",{attrs:{"aria-hidden":"true"}}),e("span",{attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"navbar-menu",class:{"is-active":t.toggleMenu},attrs:{id:"navbarMenu"}},[t._m(1)])])])},o=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("a",{staticClass:"navbar-item",attrs:{href:""}},[a("img",{staticStyle:{"padding-right":"5px"},attrs:{src:e("1a6e"),alt:""}}),a("span",{staticClass:"is-size-4"},[t._v("getLonLat")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"navbar-end"},[e("a",{staticClass:"navbar-item",attrs:{href:"https://github.com/getlonlat/vuejs-leaflet",target:"_blank"}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fab fa-github"})]),e("span",[t._v("code")])])])}],l={data:function(){return{toggleMenu:!1}}},c=l,d=e("2877"),u=Object(d["a"])(c,i,o,!1,null,null,null),p=u.exports,f=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"card"},[e("div",{staticClass:"card-image",staticStyle:{height:"420px"}},[e("l-map",{ref:"lmap",staticStyle:{height:"100%",width:"100%"},attrs:{zoom:t.zoom,center:t.mapCenter,options:t.mapOptions},on:{"update:zoom":t.zoomUpdate,"update:center":t.centerUpdate}},[e("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),e("l-marker",{attrs:{"lat-lng":t.mapCenter,draggable:!0},on:{dragend:t.dragEnd}})],1)],1),e("app-controls"),e("app-map-footer")],1)},h=[],m=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"card-content"},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("div",{staticClass:"control"},[e("label",{staticClass:"label"},[t._v("Latitude")]),e("div",{staticClass:"field has-addons"},[t._m(0),e("div",{staticClass:"control is-expanded"},[e("label",[e("input",{staticClass:"input",attrs:{type:"text",placeholder:"Latitude"},domProps:{value:t.markerPosition.lat}})])]),e("div",{staticClass:"control"},[e("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:function(){return t.markerPosition.lat},expression:"() => markerPosition.lat"},{name:"clipboard",rawName:"v-clipboard:success",value:t.clipboardSuccessHandler,expression:"clipboardSuccessHandler",arg:"success"}],staticClass:"button is-light"},[t._m(1)])])])])]),e("div",{staticClass:"column"},[e("label",{staticClass:"label"},[t._v("Longitude")]),e("div",{staticClass:"control"},[e("div",{staticClass:"field has-addons"},[t._m(2),e("div",{staticClass:"control is-expanded"},[e("label",[e("input",{staticClass:"input",attrs:{type:"text",placeholder:"Longitude"},domProps:{value:t.markerPosition.lng}})])]),e("div",{staticClass:"control"},[e("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:function(){return t.markerPosition.lng},expression:"() => markerPosition.lng"},{name:"clipboard",rawName:"v-clipboard:success",value:t.clipboardSuccessHandler,expression:"clipboardSuccessHandler",arg:"success"}],staticClass:"button is-light"},[t._m(3)])])])])]),e("div",{staticClass:"column"},[e("div",{staticClass:"control"},[e("label",{staticClass:"label"},[t._v("Latitude, Longitude")]),e("div",{staticClass:"field has-addons"},[e("div",{staticClass:"control is-expanded"},[e("label",[e("input",{staticClass:"input",attrs:{type:"text",placeholder:"Latitude, Longitude"},domProps:{value:t.latLng}})])]),e("div",{staticClass:"control"},[e("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:function(){return t.latLng},expression:"() => latLng"},{name:"clipboard",rawName:"v-clipboard:success",value:t.clipboardSuccessHandler,expression:"clipboardSuccessHandler",arg:"success"}],staticClass:"button is-light"},[t._m(4)])])])])]),e("div",{staticClass:"column"},[e("label",{staticClass:"label",attrs:{for:"hash"}},[t._v("Geohash")]),e("div",{staticClass:"control"},[e("div",{staticClass:"field has-addons"},[e("div",{staticClass:"control is-expanded"},[e("input",{staticClass:"input is-fullwidth",attrs:{id:"hash",type:"text",placeholder:"Geohash"},domProps:{value:t.hash}})]),e("div",{staticClass:"control"},[e("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:function(){return t.hash},expression:"() => hash"},{name:"clipboard",rawName:"v-clipboard:success",value:t.clipboardSuccessHandler,expression:"clipboardSuccessHandler",arg:"success"}],staticClass:"button is-light"},[t._m(5)])])])])])]),t.address?e("div",{staticClass:"field has-addons"},[t._m(6),e("div",{staticClass:"control is-expanded"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],staticClass:"input is-fullwidth",attrs:{type:"text"},domProps:{value:t.address},on:{input:function(s){s.target.composing||(t.address=s.target.value)}}})]),e("div",{staticClass:"control"},[e("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:function(){return t.address},expression:"() => address"},{name:"clipboard",rawName:"v-clipboard:success",value:t.clipboardSuccessHandler,expression:"clipboardSuccessHandler",arg:"success"}],staticClass:"button is-light"},[t._m(7)])])]):t._e()])},v=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"control"},[e("a",{staticClass:"button is-static"},[t._v("Y")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",{staticClass:"icon"},[e("i",{staticClass:"far fa-copy"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"control"},[e("a",{staticClass:"button is-static"},[t._v("X")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",{staticClass:"icon"},[e("i",{staticClass:"far fa-copy"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",{staticClass:"icon"},[e("i",{staticClass:"far fa-copy"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",{staticClass:"icon"},[e("i",{staticClass:"far fa-copy"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"control"},[e("a",{staticClass:"button is-static"},[t._v("Address")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",{staticClass:"icon"},[e("i",{staticClass:"far fa-copy"})])}],g=e("e02a"),_={computed:{markerPosition:function(){return this.$store.getters.latLng},latLng:function(){return this.markerPosition.lat+","+this.markerPosition.lng},address:function(){return this.$store.getters.address},precision:function(){return this.$store.getters.precision},hash:function(){return g.encode(this.markerPosition.lat,this.markerPosition.lng,this.precision)}},methods:{clipboardSuccessHandler:function(){this.$toasted.show("Copied to clipboard.")}}},C=_,b=Object(d["a"])(C,m,v,!1,null,null,null),y=b.exports,S=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("footer",{staticClass:"card-footer"},[e("a",{staticClass:"card-footer-item",on:{click:t.toggleSearchAddress}},[t._m(0),e("span",{staticClass:"is-hidden-mobile"},[t._v("SEARCH ADDRESS")])]),e("a",{staticClass:"card-footer-item",on:{click:t.updatePosition}},[t._m(1),e("span",[t._v("GEOLOCATION")])]),e("a",{staticClass:"card-footer-item",on:{click:t.dropMarker}},[t._m(2),e("span",{staticClass:"is-hidden-mobile"},[t._v("DROP MARKER")])])])},E=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-search"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",{staticClass:"icon"},[e("i",{staticClass:"far fa-compass"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-map-marker-alt"})])}],L={methods:{dropMarker:function(){this.$store.dispatch("setLatLng",this.$store.getters.center)},toggleSearchAddress:function(){this.$store.dispatch("toggleSearchAddress")},updatePosition:function(){var t=this;navigator.geolocation.getCurrentPosition(function(s){var e={lat:s.coords.latitude,lng:s.coords.longitude};t.$store.dispatch("setLatLng",e),t.$store.dispatch("setZoom",15)},function(s){t.$swal.fire({title:"Ops...",text:s.message,type:"error"})})}}},$=L,x=Object(d["a"])($,S,E,!1,null,null,null),w=x.exports,A=e("e11e"),H=e("2699"),k=e("4e2b"),O=e("a40a");delete A["Icon"].Default.prototype._getIconUrl,A["Icon"].Default.mergeOptions({iconRetinaUrl:e("584d"),iconUrl:e("6397"),shadowUrl:e("e2b9")});var T={data:function(){return{url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',mapOptions:{zoomSnap:.5}}},components:{LMap:H["a"],LMarker:k["a"],LTileLayer:O["a"],appControls:y,appMapFooter:w},computed:{zoom:function(){return this.$store.getters.zoom},mapCenter:function(){return this.$store.getters.latLng}},methods:{zoomUpdate:function(t){this.$store.dispatch("setZoom",t)},centerUpdate:function(t){this.$store.dispatch("setCenterMap",t)},dragEnd:function(t){var s={lat:t.target._latlng.lat,lng:t.target._latlng.lng};this.$store.dispatch("setLatLng",s)}}},P=T,R=Object(d["a"])(P,f,h,!1,null,null,null),M=R.exports,j=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",[e("nav",{staticClass:"panel"},[e("div",{staticClass:"panel-block"},[e("p",{staticClass:"control has-icons-left"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"input",attrs:{type:"search",placeholder:"Start type the address"},domProps:{value:t.query},on:{keyup:t.searchAddress,input:function(s){s.target.composing||(t.query=s.target.value)}}})]),t._m(0)])]),t._l(t.addresses,function(s){return e("a",{key:s.place_id,staticClass:"panel-block",on:{click:function(e){return t.selectAddress(s)}}},[t._v("\n        "+t._s(s.display_name)+"\n      ")])}),t.addresses.length>0?e("div",{staticClass:"panel-block"},[e("button",{staticClass:"button is-link is-outlined is-fullwidth is-small",on:{click:t.clearSearch}},[t._v("\n          clear search\n        ")])]):t._e()],2)])])},D=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",{staticClass:"icon is-left"},[e("i",{staticClass:"fas fa-search",attrs:{"aria-hidden":"true"}})])}],N=e("bc3a"),z=e.n(N),q={data:function(){return{query:"",addresses:[],timer:null}},computed:{zoom:function(){return this.$store.getters.zoom}},methods:{searchAddress:function(){var t=this;if(this.timer&&(clearTimeout(this.timer),this.timer=null),this.query){var s={q:this.query,format:"json"};this.timer=setTimeout(function(){var e="https://nominatim.openstreetmap.org/search";z.a.get(e,{params:s}).then(function(t){return t.data}).then(function(s){t.addresses=s})},500)}},selectAddress:function(t){var s={lat:t.lat,lng:t.lon};this.$store.dispatch("setZoom",15),this.$store.dispatch("setLatLng",s),this.$store.dispatch("addToHistory",t)},clearSearch:function(){this.query="",this.addresses=[]}}},I=q,G=Object(d["a"])(I,j,D,!1,null,null,null),U=G.exports,Y=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("nav",{staticClass:"panel"},[e("p",{staticClass:"panel-heading"},[t._v("\n    history\n  ")]),e("div",{staticClass:"panel-block"},[e("p",{staticClass:"control has-icons-left"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"input is-small",attrs:{type:"search",placeholder:"filter"},domProps:{value:t.query},on:{input:function(s){s.target.composing||(t.query=s.target.value)}}})]),t._m(0)])]),t._l(t.addressHistory,function(s){return e("a",{key:s.place_id,staticClass:"panel-block",on:{click:function(e){return t.selectAddress(s)}}},[e("span",{staticClass:"panel-icon",on:{click:function(e){return t.deleteAddress(s)}}},[e("i",{staticClass:"delete",attrs:{"aria-hidden":"true"}})]),e("span",[t._v("\n      "+t._s(s.display_name)+"\n    ")])])}),0===t.addressHistory.length?e("div",{staticClass:"panel-block"},[e("small",[t._v("\n      Select some address to show here.\n    ")])]):t._e(),t.addressHistory.length>0?e("div",{staticClass:"panel-block"},[e("button",{staticClass:"button is-link is-outlined is-fullwidth is-small",on:{click:t.clearHistory}},[t._v("\n      reset all filters\n    ")])]):t._e()],2)},Z=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",{staticClass:"icon is-small is-left"},[e("i",{staticClass:"fas fa-search",attrs:{"aria-hidden":"true"}})])}],F={data:function(){return{query:""}},computed:{addressHistory:function(){var t=this;return this.$store.getters.addressHistory.filter(function(s){return s.display_name.toLowerCase().indexOf(t.query.toLowerCase())>-1})}},methods:{selectAddress:function(t){var s={lat:t.lat,lng:t.lon};this.$store.dispatch("setLatLng",s)},deleteAddress:function(t){var s=this;this.$swal({title:"Remove this address?",text:t.display_name,showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"Cancel"}).then(function(e){e.value&&s.$store.dispatch("deleteFromHistory",t)})},clearHistory:function(){this.$store.dispatch("clearHistory")}}},B=F,J=Object(d["a"])(B,Y,Z,!1,null,null,null),K=J.exports,X={computed:{showSearchAddress:function(){return this.$store.getters.showSearchAddress},addressHistory:function(){return this.$store.getters.addressHistory}},components:{appHeader:p,appMap:M,appHistory:K,appSearchAddress:U}},Q=X,V=(e("5c0b"),Object(d["a"])(Q,n,r,!1,null,null,null)),W=V.exports,tt=e("4ae6"),st=e.n(tt),et=e("a65d"),at=e.n(et),nt=e("619c"),rt=e("2f62"),it=e("bfa9");a["a"].use(rt["a"]);var ot=new it["a"]({key:"getlonlat-vue",storage:localStorage}),lt={zoom:4,address:null,precision:6,latLng:{lat:-8,lng:-55},addresses:[],showSearchAddress:!1},ct={zoom:function(t){return t.zoom},address:function(t){return t.address},latLng:function(t){return t.latLng},center:function(t){return t.center},showSearchAddress:function(t){return t.showSearchAddress},addressHistory:function(t){return t.addresses}},dt={SET_ZOOM:function(t,s){t.zoom=s},SET_ADDRESS:function(t,s){t.address=s},SET_LATLNG:function(t,s){t.latLng=s},SET_CENTER_MAP:function(t,s){t.center=s},TOGGLE_SEARCH_ADDRESS:function(t){t.showSearchAddress=!t.showSearchAddress},ADD_SEARCH_TO_HISTORY:function(t,s){t.addresses.push(s)},DELETE_FROM_HISTORY:function(t,s){t.addresses=t.addresses.filter(function(t){return t.place_id!==s.place_id})},CLEAR_SEARCH_HISTORY:function(t){t.addresses=[]}},ut={setZoom:function(t,s){var e=t.commit;e("SET_ZOOM",s)},setLatLng:function(t,s){var e=t.commit;e("SET_LATLNG",s);var a={lat:s.lat,lon:s.lng,format:"json"};z.a.get("https://nominatim.openstreetmap.org/reverse",{params:a}).then(function(t){e("SET_ADDRESS",t.data.display_name)})},setCenterMap:function(t,s){var e=t.commit;e("SET_CENTER_MAP",s)},toggleSearchAddress:function(t){var s=t.commit;s("TOGGLE_SEARCH_ADDRESS")},addToHistory:function(t,s){var e=t.commit;e("ADD_SEARCH_TO_HISTORY",s)},deleteFromHistory:function(t,s){var e=t.commit;e("DELETE_FROM_HISTORY",s)},clearHistory:function(t){var s=t.commit;s("CLEAR_SEARCH_HISTORY")}},pt=new rt["a"].Store({state:lt,getters:ct,mutations:dt,actions:ut,plugins:[ot.plugin]});a["a"].config.productionTip=!1,a["a"].use(st.a),a["a"].use(at.a,{position:"top-center",duration:3e3,singleton:!0}),a["a"].use(nt["a"]),new a["a"]({store:pt,render:function(t){return t(W)}}).$mount("#app")},"5c0b":function(t,s,e){"use strict";var a=e("5e27"),n=e.n(a);n.a},"5e27":function(t,s,e){}});
//# sourceMappingURL=app.fd7faa25.js.map